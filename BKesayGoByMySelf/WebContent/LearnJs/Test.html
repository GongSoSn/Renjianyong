<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>小测试</title>
<script type="text/javascript">
	window.onload = function() {

		var subBtn = document.getElementById("subBtn");

		var types = document.getElementsByName("type");

		//获取文本框

		var typesLen = types.length;

		var reg = /^\s*|\s*$/g;

		var typeValue = null;

		subBtn.onclick = function() {
		var textValue = document.getElementById("text").value;
			//判断 radio btn 是不是选中
			for (var i = 0; i < typesLen; i++) {
				//如果选中
				if (types.item(i).checked) {
					typeValue = types.item(i).value;
					break;
				}
			}
			//判断是否选择了类型
			if (typeValue == null) {
				alert("请先选择添加的类型！");
				return false;
			}
			textValue = textValue.replace(reg, "");
			
			document.getElementById("text").value = textValue;

			if (textValue == "") {
				alert("请输入文本！");
				return false;
			}
			
			//创建新的节点
			var liNode = document.createElement("li");
			//添加到对应的父节点最后
			var Obj = document.getElementById(typeValue);
			Obj.appendChild(liNode);
			
			//创建文本节点
			
			var textNode = document.createTextNode(textValue);
			//添加在对应的节点中
			liNode.appendChild(textNode);
			
			
			var liNodes = document.getElementsByTagName("li");
			var len = liNodes.length;
			for(var i = 0; i < len; i ++){
				liNodes[i].onclick = function(){
					alert(this.firstChild.nodeValue);
				}
			}

			return false;
		}

	}
</script>
</head>
<body>
	<p>你喜欢哪个城市?</p>
	<ul id="city">
		<li id="bj">北京</li>
		<li>上海</li>
		<li>东京</li>
		<li>首尔</li>
	</ul>

	<br>
	<br>
	<p>你喜欢哪款单机游戏?</p>
	<ul id="game">
		<li id="rl">红警</li>
		<li>实况</li>
		<li>极品飞车</li>
		<li>魔兽</li>
	</ul>

	<br>
	<br> 添加条目:
	<br>
	<input type="radio" name="type" value = "city"/> City
	<input type="radio" name="type" value = "game"/> Game
	<input type="text" id="text" value="" />
	<br>
	<input type="submit" id="subBtn" value="Submit" />
</body>
</html>